<!-- Article Page Layout - ИСПОЛЬЗУЕТ ГЛОБАЛЬНЫЕ КЛАССЫ -->
<div class="page-layout">
  <!-- Mobile TOC - ТОЛЬКО на мобилке -->
  @if (isMobile()) {
    <app-table-of-contents
      title="Article Contents"
      contentSelector=".article-content"
      [showMobile]="true">
    </app-table-of-contents>
  }

  <div class="layout-sidebar">

    <!-- Main Content -->
    <article class="article-content-wrapper">
      <!-- Article Header -->
      <header class="page-header">
        <h1 class="page-title">{{ article.title }}</h1>

        <div class="article-meta">
          <span class="article-author">By {{ article.author }}</span>
          <span class="article-separator">•</span>
          <time class="article-date">{{ article.date }}</time>
          <span class="article-separator">•</span>
          <span class="article-category">{{ article.category }}</span>
        </div>
      </header>

      <!-- TLDR Section -->
      <app-tldr [items]="tldrItems" title="TL;DR"></app-tldr>

      <!-- Article Hero Image -->
      <figure class="article-hero">
        <img
          [src]="article.heroImage.src"
          [alt]="article.heroImage.alt"
          class="article-image"
        >
      </figure>

      <!-- Article Content -->
      <div class="article-content content-spacing">
        <div [innerHTML]="article.content"></div>

        <!-- Pros and Cons Table -->
        <app-pros-cons-table
          title="Commissions and licenses"
          description="Here you will find information on commissions, licenses, user support methods and other important parameters."
          [pros]="prosData"
          [cons]="consData"
          prosTitle="Pluses"
          consTitle="Minuses">
        </app-pros-cons-table>

        <!-- Material Comparison Table -->
        <app-material-comparison-table
          title="Comparison with competitors"
          [columns]="materialComparisonColumns"
          [rows]="materialComparisonRows"
          [highlightRowIndex]="2">
        </app-material-comparison-table>

        <!-- Key Facts Table -->
        <app-key-value-table
          title="Key facts"
          [items]="keyFactsData">
        </app-key-value-table>
      </div>

      <!-- Article Footer -->
      <footer class="article-footer">
        <div class="article-tags">
          <span class="tag">Bitcoin</span>
          <span class="tag">Cryptocurrency</span>
          <span class="tag">Trading</span>
          <span class="tag">Security</span>
        </div>

        <div class="article-share">
          <span class="share-label">Share:</span>
          <button class="share-btn" aria-label="Share on Twitter">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
              <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
            </svg>
          </button>
          <button class="share-btn" aria-label="Share on Telegram">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19-.14.75-.42 1-.68 1.03-.58.05-1.02-.38-1.58-.75-.88-.58-1.38-.94-2.23-1.5-.99-.65-.35-1.01.22-1.59.15-.15 2.71-2.48 2.76-2.69a.2.2 0 00-.05-.18c-.06-.05-.14-.03-.21-.02-.09.02-1.49.95-4.22 2.79-.4.27-.76.41-1.08.4-.36-.01-1.04-.2-1.55-.37-.63-.2-1.13-.31-1.09-.65.02-.18.27-.36.74-.55 2.92-1.27 4.86-2.11 5.83-2.51 2.78-1.16 3.35-1.36 3.73-1.36.08 0 .27.02.39.12.1.08.13.19.14.27-.01.06.01.24 0 .38z"/>
            </svg>
          </button>
          <button class="share-btn" aria-label="Copy link">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
              <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
            </svg>
          </button>
        </div>
      </footer>
    </article>

    <!-- Desktop Sidebar for TOC -->
    <aside class="sidebar sidebar-hidden-mobile">
      <app-table-of-contents
        title="Best Stock Trading Apps of 2025"
        contentSelector=".article-content"
        [showMobile]="false">
      </app-table-of-contents>
    </aside>

  </div>
</div>
